# ============================================================================
# MCN MODEL TRAINING CONFIGURATION
# ============================================================================
# This file contains all hyperparameters and settings for training the
# Multi-Correlation Network (MCN) for outfit compatibility prediction.
# ============================================================================

# ----------------------------------------------------------------------------
# PATHS
# ----------------------------------------------------------------------------
data_path: './data/processed'      # Path to processed dataset
checkpoint_dir: './checkpoints'    # Where to save model checkpoints
log_dir: './logs'                  # TensorBoard logs directory

# ----------------------------------------------------------------------------
# DATASET CONFIGURATION
# ----------------------------------------------------------------------------
max_items: 5                       # Maximum items per outfit (for padding)
train_ratio: 0.7                   # Training set proportion (70%)
val_ratio: 0.15                    # Validation set proportion (15%)
                                   # Test set will be remaining 15%
seed: 42                           # Random seed for reproducibility

# ----------------------------------------------------------------------------
# MODEL ARCHITECTURE
# ----------------------------------------------------------------------------
embed_input_size: 96               # Input embedding dimension (from ChromaDB)
embed_proj_size: 1000              # Projection dimension
dropout: 0.4                       # Dropout rate for regularization

# ----------------------------------------------------------------------------
# TRAINING PARAMETERS
# ----------------------------------------------------------------------------
# ============================================================================
num_epochs: 50                     
# ============================================================================

batch_size: 32                     # Batch size for training
eval_batch_size: 64                # Batch size for evaluation 
num_workers: 0                     # DataLoader workers

# ----------------------------------------------------------------------------
# OPTIMIZATION
# ----------------------------------------------------------------------------
learning_rate: 0.001               # Initial learning rate
weight_decay: 0.0005               # L2 regularization weight
lr_step_size: 12                   # Reduce LR every N epochs
lr_gamma: 0.6                      # Learning rate decay factor

# ----------------------------------------------------------------------------
# EARLY STOPPING
# ----------------------------------------------------------------------------
early_stopping_patience: 10        # Stop if no improvement for N epochs
                                   # Set to -1 to disable early stopping

# ----------------------------------------------------------------------------
# CHECKPOINTING
# ----------------------------------------------------------------------------
save_every_n_epochs: 10            # Save checkpoint every N epochs
keep_best_only: false              # If true, only keep best model

# ----------------------------------------------------------------------------
# HARDWARE
# ----------------------------------------------------------------------------
device: 'auto'                     # 'cuda', 'cpu', or 'auto' (auto-detect)
mixed_precision: false             # Use mixed precision training (for GPU)

# ----------------------------------------------------------------------------
# LOGGING
# ----------------------------------------------------------------------------
log_interval: 10                   # Log metrics every N batches
verbose: true                      # Print detailed progress
